{"version":3,"sources":["screen-message/screen-message.js"],"names":["window","Ractive","controller","component","data","el","config","done","_play","playArgs","_playArgs","ScreenMessage","set","setTimeout","childrenRequire","message","callback","_done","lineCallback","Message","_$el","height","$","outerHeight","displayedLineCallback","displayTextTime","displayWordTime","freezeLastLine","lastLineToTitle","observe","require","then"],"mappings":"CAAA,WACE,YAEAA,QAAOC,QAAQC,WAAW,iBAAkB,SAASC,EAAWC,EAAMC,EAAIC,EAAQC,GAWhF,QAASC,GAAMC,GACTA,GAAYA,GAAYC,IAC1BC,EAAcC,IAAI,OAAQ,MAE1BF,EAAYD,EACZE,EAAcC,IAAI,WAAW,GAC7BD,EAAcC,IAAI,eAAe,GACjCD,EAAcC,IAAI,gBAAgB,GAElCC,WAAW,WACTF,EAAcG,gBAAgB,GAAGF,IAAI,QACnCG,QAASN,EAASM,QAClBC,SAAUC,EACVC,aAAc,SAASC,GACrBR,EAAcC,IAAI,cAAeQ,EAAKpB,OAAOqB,SAAWC,EAAEH,EAAQd,IAAIkB,eAAiB,GAEnFb,EAAUQ,cACZR,EAAUQ,aAAaC,IAG3BK,sBAAuBd,EAAUc,uBAAyB,KAC1DC,gBAAiBf,EAAUe,iBAAoB,KAC/CC,gBAAiBhB,EAAUgB,iBAAmB,KAC9CC,eAAgBjB,EAAUiB,gBAAkBjB,EAAUkB,iBAAmB,QAE1E,MAIP,QAASX,KACP,MAAIP,GAAUiB,oBACRjB,EAAUH,MACZG,EAAUH,QAKLG,EAAUkB,iBACjBjB,EAAcC,IAAI,gBAAgB,OAClCD,GAAcC,IAAI,aAAc,OAKlCD,EAAcC,IAAI,eAAe,OAEjCC,YAAW,WACTF,EAAcC,IAAI,WAAW,GAC7BD,EAAcC,IAAI,eAAe,GAE7BF,EAAUH,MACZG,EAAUH,OAGZG,EAAY,MACX,MAhEL,GAAIU,IACEpB,OAAQsB,EAAEtB,SAEZU,EAAY,KAEZC,EAAgBR,GAClBC,KAAMA,GA6DRO,GAAckB,QAAQ,OAAQ,SAASpB,GACrCI,WAAW,WACTL,EAAMC,OAIVE,EAAcmB,UAAUC,KAAKxB","file":"screen-message/screen-message.min.js","sourcesContent":["(function() {\r\n  'use strict';\r\n\r\n  window.Ractive.controller('screen-message', function(component, data, el, config, done) {\r\n\r\n    var _$el = {\r\n          window: $(window)\r\n        },\r\n        _playArgs = null;\r\n\r\n    var ScreenMessage = component({\r\n      data: data\r\n    });\r\n\r\n    function _play(playArgs) {\r\n      if (playArgs && playArgs != _playArgs) {\r\n        ScreenMessage.set('play', null);\r\n\r\n        _playArgs = playArgs;\r\n        ScreenMessage.set('playing', true);\r\n        ScreenMessage.set('playingDone', false);\r\n        ScreenMessage.set('messageTitle', false);\r\n\r\n        setTimeout(function() {\r\n          ScreenMessage.childrenRequire[0].set('play', {\r\n            message: playArgs.message,\r\n            callback: _done,\r\n            lineCallback: function(Message) {\r\n              ScreenMessage.set('messageTop', (_$el.window.height() - $(Message.el).outerHeight()) / 2);\r\n\r\n              if (_playArgs.lineCallback) {\r\n                _playArgs.lineCallback(Message);\r\n              }\r\n            },\r\n            displayedLineCallback: _playArgs.displayedLineCallback || null,\r\n            displayTextTime: _playArgs.displayTextTime ||  null,\r\n            displayWordTime: _playArgs.displayWordTime || null,\r\n            freezeLastLine: _playArgs.freezeLastLine || _playArgs.lastLineToTitle || null\r\n          });\r\n        }, 550);\r\n      }\r\n    }\r\n\r\n    function _done() {\r\n      if (_playArgs.freezeLastLine) {\r\n        if (_playArgs.done) {\r\n          _playArgs.done();\r\n        }\r\n\r\n        return;\r\n      }\r\n      else if (_playArgs.lastLineToTitle) {\r\n        ScreenMessage.set('messageTitle', true);\r\n        ScreenMessage.set('messageTop', 100);\r\n\r\n        return;\r\n      }\r\n\r\n      ScreenMessage.set('playingDone', true);\r\n\r\n      setTimeout(function() {\r\n        ScreenMessage.set('playing', false);\r\n        ScreenMessage.set('playingDone', false);\r\n\r\n        if (_playArgs.done) {\r\n          _playArgs.done();\r\n        }\r\n\r\n        _playArgs = null;\r\n      }, 350);\r\n    }\r\n\r\n    ScreenMessage.observe('play', function(playArgs) {\r\n      setTimeout(function() {\r\n        _play(playArgs);\r\n      });\r\n    });\r\n\r\n    ScreenMessage.require().then(done);\r\n  });\r\n\r\n})();\r\n"],"sourceRoot":"/source/"}