{"version":3,"sources":["screen-message/screen-message.js"],"names":["window","Ractive","controller","component","data","el","config","done","_play","playArgs","_playArgs","ScreenMessage","set","setTimeout","childrenRequire","message","callback","_done","lineCallback","Message","_$el","height","$","outerHeight","observe","require","then"],"mappings":"CAAA,WACE,YAEAA,QAAOC,QAAQC,WAAW,iBAAkB,SAASC,EAAWC,EAAMC,EAAIC,EAAQC,GAWhF,QAASC,GAAMC,GACTA,GAAYA,GAAYC,IAC1BC,EAAcC,IAAI,OAAQ,MAE1BF,EAAYD,EACZE,EAAcC,IAAI,WAAW,GAC7BD,EAAcC,IAAI,eAAe,GAEjCC,WAAW,WACTF,EAAcG,gBAAgB,GAAGF,IAAI,QACnCG,QAASN,EAASM,QAClBC,SAAUC,EACVC,aAAc,SAASC,GACrBR,EAAcC,IAAI,cAAeQ,EAAKpB,OAAOqB,SAAWC,EAAEH,EAAQd,IAAIkB,eAAiB,OAG1F,MAIP,QAASN,KACPN,EAAcC,IAAI,eAAe,GAEjCC,WAAW,WACTF,EAAcC,IAAI,WAAW,GAC7BD,EAAcC,IAAI,eAAe,GAE7BF,EAAUH,MACZG,EAAUH,OAGZG,EAAY,MACX,KAzCL,GAAIU,IACEpB,OAAQsB,EAAEtB,SAEZU,EAAY,KAEZC,EAAgBR,GAClBC,KAAMA,GAsCRO,GAAca,QAAQ,OAAQ,SAASf,GACrCI,WAAW,WACTL,EAAMC,OAIVE,EAAcc,UAAUC,KAAKnB","file":"screen-message/screen-message.min.js","sourcesContent":["(function() {\r\n  'use strict';\r\n\r\n  window.Ractive.controller('screen-message', function(component, data, el, config, done) {\r\n\r\n    var _$el = {\r\n          window: $(window)\r\n        },\r\n        _playArgs = null;\r\n\r\n    var ScreenMessage = component({\r\n      data: data\r\n    });\r\n\r\n    function _play(playArgs) {\r\n      if (playArgs && playArgs != _playArgs) {\r\n        ScreenMessage.set('play', null);\r\n\r\n        _playArgs = playArgs;\r\n        ScreenMessage.set('playing', true);\r\n        ScreenMessage.set('playingDone', false);\r\n\r\n        setTimeout(function() {\r\n          ScreenMessage.childrenRequire[0].set('play', {\r\n            message: playArgs.message,\r\n            callback: _done,\r\n            lineCallback: function(Message) {\r\n              ScreenMessage.set('messageTop', (_$el.window.height() - $(Message.el).outerHeight()) / 2);\r\n            }\r\n          });\r\n        }, 550);\r\n      }\r\n    }\r\n\r\n    function _done() {\r\n      ScreenMessage.set('playingDone', true);\r\n\r\n      setTimeout(function() {\r\n        ScreenMessage.set('playing', false);\r\n        ScreenMessage.set('playingDone', false);\r\n\r\n        if (_playArgs.done) {\r\n          _playArgs.done();\r\n        }\r\n\r\n        _playArgs = null;\r\n      }, 350);\r\n    }\r\n\r\n    ScreenMessage.observe('play', function(playArgs) {\r\n      setTimeout(function() {\r\n        _play(playArgs);\r\n      });\r\n    });\r\n\r\n    ScreenMessage.require().then(done);\r\n  });\r\n\r\n})();\r\n"],"sourceRoot":"/source/"}